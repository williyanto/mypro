<!DOCTYPE html>
<html lang="id">
<head>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Spesifikasi Hambatan Konduktor IEC</title>
  <link rel="icon" type="image/png" href="logo_iec.png">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

  <style>
#resistansi {
  transition:
    box-shadow 0.5s cubic-bezier(.4,2,.7,1.2),
    background 0.5s cubic-bezier(.4,2,.7,1.2),
    color 0.5s cubic-bezier(.4,2,.7,1.2),
    opacity 0.5s cubic-bezier(.4,2,.7,1.2),
    transform 0.5s cubic-bezier(.4,2,.7,1.2);
  opacity: 1;
  background: #fff;
  box-shadow: none;
  color: #222;
  text-align: center;
}
#resistansi {
  text-align: center;
}
body {
  background: linear-gradient(145deg, #f0f0f0, #ffffff);
  font-family: 'Segoe UI', sans-serif;
  transition: background 0.3s, color 0.3s;
}
.card-box {
  max-width: 420px;
  margin: 50px auto;
  border-radius: 20px;
  box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15);
  padding: 25px;
  background-color: white;
  transition: background 0.3s, color 0.3s, border 0.3s;
}
h4.title {
  font-weight: 700;
  text-align: center;
  margin-bottom: 25px;
  transition: color 0.3s;
}
.leaf-btn {
  color: #127cff;
  font-weight: 400;
  border: 2px solid #127cff;
  background: transparent;
  padding: 6px 18px;
  margin: 5px 5px 5px 0;
  border-radius: 30px;
  transition: 
    transform 0.18s cubic-bezier(.4,2,.7,1.2), 
    background 0.2s, 
    color 0.2s,
    box-shadow 0.2s;
  font-size: 1rem;
  box-shadow: none;
  display: inline-block;
  line-height: 1.2;
}
.leaf-btn.active,
.leaf-btn:focus {
  background-color: #127cff !important;
  color: #fff !important;
  outline: 2px solid #127cff !important;
  box-shadow: 0 0 12px rgba(18, 124, 255, 0.18) !important;
  transform: scale(1.09);
}
.leaf-btn:hover {
  background-color: #127cff;
  color: #fff;
  transform: scale(1.09);
  z-index: 2;
}
.form-control,
.form-select.luas-select {
  border-radius: 12px;
  font-weight: bold;
  transition: background 0.3s, color 0.3s, border 0.3s;
  background: #fff;
  color: #222;
  border: 1px solid #ddd;
}
.form-select.luas-select {
  text-align: left;
  padding-left: 12px;
}
.form-label {
  color: #333;
  font-weight: 500;
  transition: color 0.3s;
}
.info-text {
  font-size: 14px;
  text-align: center;
  margin-top: 15px;
  color: #333;
  opacity: 1;
  transform: translateY(0px) scale(1);
  transition: opacity 0.55s cubic-bezier(.4,2,.7,1.2), transform 0.55s cubic-bezier(.4,2,.7,1.2);
}
.info-text.anim-change {
  opacity: 0;
  transform: translateY(18px) scale(0.96);
  transition: opacity 0.2s, transform 0.2s;
}
/* Keterangan hijau tebal */
.info-detail {
  color: #22b573 !important;
  font-weight: bold;
}
.satuan-ohm {
  color: #222 !important;
  font-weight: normal !important;
}
body.dark-mode .satuan-ohm {
  color: #fff !important;
}
.nav-btn {
  border-radius: 30px;
  margin: 5px;
  padding: 6px 18px;
  font-weight: 500;
  background-color: #0d6efd;
  color: white;
  transition: all 0.3s ease;
  border: none;
  font-size: 1rem;
  line-height: 1.2;
  text-decoration: none !important;
}
.nav-btn:hover {
  background-color: #084298;
}
.footer {
  border-top: 1px solid #ccc;
  padding-top: 12px;
  margin-top: 30px;
  text-align: center;
  font-size: 14px;
  font-weight: 600;
  color: #555;
  transition: color 0.3s, border-color 0.3s;
}
/* Enhanced animasi pada input hasil resistansi */
#resistansi {
  transition:
    box-shadow 0.5s cubic-bezier(.4,2,.7,1.2),
    background 0.5s cubic-bezier(.4,2,.7,1.2),
    color 0.5s cubic-bezier(.4,2,.7,1.2),
    opacity 0.5s cubic-bezier(.4,2,.7,1.2),
    transform 0.5s cubic-bezier(.4,2,.7,1.2);
  opacity: 1;
  background: #fff;
  box-shadow: none;
  color: #222;
}
#resistansi.anim-change {
  opacity: 0;
  background: #e0f7ff;
  box-shadow: 0 0 16px 2px #80d0ff4d;
  color: #127cff;
  transform: scale(0.96) translateY(-10px);
  transition:
    opacity 0.2s,
    background 0.2s,
    color 0.2s,
    box-shadow 0.2s,
    transform 0.2s;
}
/* DARK MODE FULL BLACK */
body.dark-mode {
  background: #000 !important;
  color: #fff !important;
}
body.dark-mode .card-box {
  background-color: #000 !important;
  color: #fff !important;
  box-shadow: 0 10px 25px rgba(0,0,0,0.7);
  border: 2px solid #fff;
}
body.dark-mode .form-control,
body.dark-mode .form-select.luas-select {
  background-color: #000 !important;
  color: #fff !important;
  border: 1.5px solid #fff !important;
}
body.dark-mode .form-control:focus,
body.dark-mode .form-select.luas-select:focus {
  background-color: #000 !important;
  color: #fff !important;
  border: 2px solid #22b573 !important;
  box-shadow: 0 0 0 0.15rem #22b5734d;
}
body.dark-mode .form-label {
  color: #fff !important;
}
body.dark-mode .info-text {
  color: #fff !important;
}
body.dark-mode .leaf-btn {
  color: #127cff !important;
  background: transparent !important;
  border: 2px solid #127cff !important;
  box-shadow: none !important;
}
body.dark-mode .leaf-btn.active,
body.dark-mode .leaf-btn:focus {
  background-color: #127cff !important;
  color: #fff !important;
  outline: 2px solid #127cff !important;
  box-shadow: 0 0 12px rgba(18, 124, 255, 0.18) !important;
}
body.dark-mode .leaf-btn:hover {
  background-color: #127cff !important;
  color: #fff !important;
}
body.dark-mode .nav-btn {
  background-color: #1a73e8 !important;
  color: #fff !important;
}
body.dark-mode .nav-btn:hover {
  background-color: #125bbb !important;
}
body.dark-mode .footer {
  color: #fff !important;
  border-top: 1px solid #fff !important;
}
body.dark-mode h4.title {
  color: #fff !important;
}
@media (max-width:500px) {
  .leaf-btn, .nav-btn {
    padding: 5px 12px;
    font-size: 0.93rem;
  }
  .form-select.luas-select {
    font-size: 0.93rem;
    padding-left: 8px;
  }
}
  </style>
</head>
<body>
  <div class="card-box bg-white">
    <h4 class="title">Spesifikasi Hambatan Konduktor IEC</h4>
    <div class="text-center mb-4">
      <button class="leaf-btn me-2 active" id="btnCU">CU</button>
      <button class="leaf-btn me-2" id="btnAL">AL</button>
      <button class="leaf-btn" id="btnTCU">TCU</button>
    </div>
    <div class="mb-3">
      <label class="form-label">Luas Penampang</label>
      <select class="form-select luas-select" id="luas">
<option value="0,5">0,5 mm²</option>
<option value="0,75">0,75 mm²</option>
<option value="1,0">1,0 mm²</option>
<option value="1,5">1,5 mm²</option>
<option value="2,5">2,5 mm²</option>
<option value="4">4 mm²</option>
<option value="6">6 mm²</option>
<option value="10">10 mm²</option>
<option value="16">16 mm²</option>
<option value="25">25 mm²</option>
<option value="35">35 mm²</option>
<option value="50">50 mm²</option>
<option value="70">70 mm²</option>
<option value="95">95 mm²</option>
<option value="120">120 mm²</option>
<option value="150">150 mm²</option>
<option value="185">185 mm²</option>
<option value="240">240 mm²</option>
<option value="300">300 mm²</option>
<option value="400">400 mm²</option>
<option value="500">500 mm²</option>
<option value="630">630 mm²</option>
<option value="800">800 mm²</option>
<option value="1000">1000 mm²</option>
<option value="1200">1200 mm²</option>
<option value="1400">1400 mm²</option>
<option value="1600">1600 mm²</option>
<option value="1800">1800 mm²</option>
<option value="2000">2000 mm²</option>
<option value="2500">2500 mm²</option>
      </select>
    </div>
    <div class="mb-3">
      <label class="form-label">Resistansi Maksimal (Ω/km)</label>
      <input 
        type="text"
        class="form-control"
        id="resistansi"
        value="36,0"
        readonly
      >
    </div>
    <div class="info-text" id="infoText">
      Luas Penampang <span class="info-detail">0,5 mm²</span> Cooper (Tembaga)<br>
      adalah: <span class="info-detail">36,0</span> <span class="satuan-ohm">Ω/km</span>
    </div>
<div class="text-center mt-4">
  <a href="sk_index.html" class="nav-btn">Kembali</a>
  <a href="..//index.html" class="nav-btn">Halaman Utama</a>
  <button class="nav-btn" id="toggleDark">Dark</button>
</div>
    <div class="footer mt-4">
      Made by Williyanto Adi 2025
    </div>
  </div>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <script>
    // Data tabel resistansi [material][luas]
    const resistansiTable = {
  CU: {
    "0,5": "36,0",
    "0,75": "24,5",
    "1,0": "18,1",
    "1,5": "12,1",
    "2,5": "7,41",
    "4": "4,61",
    "6": "3,08",
    "10": "1,83",
    "16": "1,15",
    "25": "0,727",
    "35": "0,524",
    "50": "0,387",
    "70": "0,268",
    "95": "0,193",
    "120": "0,153",
    "150": "0,124",
    "185": "0,0991",
    "240": "0,0754",
    "300": "0,0601",
    "400": "0,0470",
    "500": "0,0366",
    "630": "0,0283",
    "800": "0,0221",
    "1000": "0,0176",
    "1200": "0,0151",
    "1400": "0,0129",
    "1600": "0,0113",
    "1800": "0,0101",
    "2000": "0,0090",
    "2500": "0,0072"
      },
  AL: {
      "0,5": "-",
      "0,75": "-",
      "1,0": "-",
      "1,5": "-",
      "2,5": "-",
      "4": "-",
      "6": "-",
      "10": "3,08",
      "16": "1,91",
      "25": "1,20",
      "35": "0,868",
      "50": "0,641",
      "70": "0,443",
      "95": "0,320",
      "120": "0,253",
      "150": "0,206",
      "185": "0,164",
      "240": "0,125",
      "300": "0,100",
      "400": "0,0778",
      "500": "0,0605",
      "630": "0,0469",
      "800": "0,0367",
      "1000": "0,0291",
      "1200": "0,0247",
      "1400": "0,0212",
      "1600": "0,0186",
      "1800": "0,0165",
      "2000": "0,0149",
      "2500": "0,0127"
      },
  TCU: {
      "0,5": "36,7",
      "0,75": "24,8",
      "1,0": "18,2",
      "1,5": "12,2",
      "2,5": "7,56",
      "4": "4,70",
      "6": "3,11",
      "10": "1,84",
      "16": "1,16",
      "25": "0,734",
      "35": "0,529",
      "50": "0,391",
      "70": "0,270",
      "95": "0,195",
      "120": "0,154",
      "150": "0,126",
      "185": "0,100",
      "240": "0,0762",
      "300": "0,0607",
      "400": "0,0475",
      "500": "0,0369",
      "630": "0,0286",
      "800": "0,0224",
      "1000": "0,0177",
      "1200": "0,0151",
      "1400": "0,0129",
      "1600": "0,0113",
      "1800": "0,0101",
      "2000": "0,0090",
      "2500": "0,0072"
      }
    };
    // Label material untuk infoText
    const labelMaterial = {
      CU: "Cooper (Tembaga)",
      AL: "Aluminium",
      TCU: "Tinned Copper"
    };
    let selectedMaterial = 'CU';
    const buttons = document.querySelectorAll('.leaf-btn');
    const resistansiInput = document.getElementById('resistansi');
    const infoText = document.getElementById('infoText');
    const luasSelect = document.getElementById('luas');
    // Enhanced Fade & Slide helper
    function animUpdate(el, updateFn) {
      el.classList.add('anim-change');
      setTimeout(() => {
        updateFn();
        el.classList.remove('anim-change');
      }, 200); // fade out quickly, then update and fade in
    }
    function setResistansiAndInfo() {
      const luas = luasSelect.value;
      const luasText = luasSelect.options[luasSelect.selectedIndex].text;
      const resistansiValue = resistansiTable[selectedMaterial][luas] || "-";
      // Enhanced fade+slide for resistansi input value
      animUpdate(resistansiInput, () => {
        resistansiInput.value = resistansiValue;
      });
      // Pisahkan angka dan satuan
      let nilai = resistansiValue;
      let satuan = "Ω/km";
      if (nilai === "-") satuan = "";
      // Enhanced fade+slide for info text
      animUpdate(infoText, () => {
        infoText.innerHTML =
          `Spesifikasi IEC  ${labelMaterial[selectedMaterial]} <span class="info-detail">${luasText}</span><br>` +
          `adalah: <span class="info-detail">${nilai}</span> <span class="satuan-ohm">${satuan}</span>`;
      });
    }
    buttons.forEach(btn => {
      btn.addEventListener('click', function () {
        buttons.forEach(b => b.classList.remove('active'));
        this.classList.add('active');
        selectedMaterial = this.id.replace('btn', '');
        setResistansiAndInfo();
      });
    });
    luasSelect.addEventListener('change', function () {
      setResistansiAndInfo();
    });
    // inisialisasi tampilan awal sesuai default
    setResistansiAndInfo();
    // Dark Mode
    const toggleDark = document.getElementById("toggleDark");
    let darkMode = false;
    function setDarkMode(on) {
      if(on) {
        document.body.classList.add('dark-mode');
        toggleDark.textContent = "🌞";
        darkMode = true;
      } else {
        document.body.classList.remove('dark-mode');
        toggleDark.textContent = "🌙";
        darkMode = false;
      }
      // Simpan preferensi ke localStorage
      localStorage.setItem('darkMode', darkMode ? "1" : "0");
    }
    toggleDark.addEventListener('click', function() {
      setDarkMode(!darkMode);
    });
    // Load preferensi dark mode (jika ada)
    if(localStorage.getItem('darkMode') === "1") {
      setDarkMode(true);
    }
  </script>
</body>
</html>