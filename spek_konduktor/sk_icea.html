<!DOCTYPE html>
<html lang="id">
<head>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Konduktor Resistansi ICEA</title>
  <link rel="icon" type="image/png" href="logo_icea.png">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

  <style>
    #resistansi {
      transition:
        box-shadow 0.5s cubic-bezier(.4,2,.7,1.2),
        background 0.5s cubic-bezier(.4,2,.7,1.2),
        color 0.5s cubic-bezier(.4,2,.7,1.2),
        opacity 0.5s cubic-bezier(.4,2,.7,1.2),
        transform 0.5s cubic-bezier(.4,2,.7,1.2);
      opacity: 1;
      background: #fff;
      box-shadow: none;
      color: #222;
      text-align: center;
    }
    #resistansi {
      text-align: center;
    }
    body {
      background: linear-gradient(145deg, #f0f0f0, #ffffff);
      font-family: 'Segoe UI', sans-serif;
      transition: background 0.3s, color 0.3s;
    }
    .card-box {
      max-width: 420px;
      margin: 50px auto;
      border-radius: 20px;
      box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15);
      padding: 25px;
      background-color: white;
      transition: background 0.3s, color 0.3s, border 0.3s;
    }
    h4.title {
      font-weight: 700;
      text-align: center;
      margin-bottom: 25px;
      transition: color 0.3s;
    }
    .leaf-btn {
      color: #127cff;
      font-weight: 400;
      border: 2px solid #127cff;
      background: transparent;
      padding: 6px 18px;
      margin: 5px 5px 5px 0;
      border-radius: 30px;
      transition:
        transform 0.18s cubic-bezier(.4,2,.7,1.2),
        background 0.2s,
        color 0.2s,
        box-shadow 0.2s;
      font-size: 1rem;
      box-shadow: none;
      display: inline-block;
      line-height: 1.2;
    }
    .leaf-btn.active,
    .leaf-btn:focus {
      background-color: #127cff !important;
      color: #fff !important;
      outline: 2px solid #127cff !important;
      box-shadow: 0 0 12px rgba(18, 124, 255, 0.18) !important;
      transform: scale(1.09);
    }
    .leaf-btn:hover {
      background-color: #127cff;
      color: #fff;
      transform: scale(1.09);
      z-index: 2;
    }
    .form-control,
    .form-select.luas-select {
      border-radius: 12px;
      font-weight: bold;
      transition: background 0.3s, color 0.3s, border 0.3s;
      background: #fff;
      color: #222;
      border: 1px solid #ddd;
    }
    .form-select.luas-select {
      text-align: left;
      padding-left: 12px;
    }
    .form-label {
      color: #333;
      font-weight: 500;
      transition: color 0.3s;
    }
    .info-text {
      font-size: 14px;
      text-align: center;
      margin-top: 15px;
      color: #333;
      opacity: 1;
      transform: translateY(0px) scale(1);
      transition: opacity 0.55s cubic-bezier(.4,2,.7,1.2), transform 0.55s cubic-bezier(.4,2,.7,1.2);
    }
    .info-text.anim-change {
      opacity: 0;
      transform: translateY(18px) scale(0.96);
      transition: opacity 0.2s, transform 0.2s;
    }
    /* Keterangan hijau tebal */
    .info-detail {
      color: #22b573 !important;
      font-weight: bold;
    }
    .satuan-ohm {
      color: #222 !important;
      font-weight: normal !important;
    }
    body.dark-mode .satuan-ohm {
      color: #fff !important;
    }
    /* Tambahan style untuk teks "Spek sesuai tabel" */
    .spec-label {
        color: #222; /* Hitam */
        font-weight: normal;
    }
    /* Tambahan style untuk nilai spesifikasi */
    .spec-value {
        color: #127cff; /* Biru */
        font-weight: bold; /* Tebal */
    }
    /* Style untuk nilai nominal mm² */
    .nominal-mm2 {
        color: #222; /* Hitam */
        font-weight: bold; /* Tebal */
    }

    .nav-btn {
      border-radius: 30px;
      margin: 5px;
      padding: 6px 18px;
      font-weight: 500;
      background-color: #0d6efd;
      color: white;
      transition: all 0.3s ease;
      border: none;
      font-size: 1rem;
      line-height: 1.2;
      text-decoration: none !important;
    }
    .nav-btn:hover {
      background-color: #084298;
    }
    .footer {
      border-top: 1px solid #ccc;
      padding-top: 12px;
      margin-top: 30px;
      text-align: center;
      font-size: 14px;
      font-weight: 600;
      color: #555;
      transition: color 0.3s, border-color 0.3s;
    }
    /* Enhanced animasi pada input hasil resistansi */
    #resistansi {
      transition:
        box-shadow 0.5s cubic-bezier(.4,2,.7,1.2),
        background 0.5s cubic-bezier(.4,2,.7,1.2),
        color 0.5s cubic-bezier(.4,2,.7,1.2),
        opacity 0.5s cubic-bezier(.4,2,.7,1.2),
        transform 0.5s cubic-bezier(.4,2,.7,1.2);
      opacity: 1;
      background: #fff;
      box-shadow: none;
      color: #222;
    }
    #resistansi.anim-change {
      opacity: 0;
      background: #e0f7ff;
      box-shadow: 0 0 16px 2px #80d0ff4d;
      color: #127cff;
      transform: scale(0.96) translateY(-10px);
      transition:
        opacity 0.2s,
        background 0.2s,
        color 0.2s,
        box-shadow 0.2s,
        transform 0.2s;
    }
    /* DARK MODE FULL BLACK */
    body.dark-mode {
      background: #000 !important;
      color: #fff !important;
    }
    body.dark-mode .card-box {
      background-color: #000 !important;
      color: #fff !important;
      box-shadow: 0 10px 25px rgba(0,0,0,0.7);
      border: 2px solid #fff;
    }
    body.dark-mode .form-control,
    body.dark-mode .form-select.luas-select {
      background-color: #000 !important;
      color: #fff !important;
      border: 1.5px solid #fff !important;
    }
    body.dark-mode .form-control:focus,
    body.dark-mode .form-select.luas-select:focus {
      background-color: #000 !important;
      color: #fff !important;
      border: 2px solid #22b573 !important;
      box-shadow: 0 0 0 0.15rem #22b5734d;
    }
    body.dark-mode .form-label {
      color: #fff !important;
    }
    body.dark-mode .info-text {
      color: #fff !important;
    }
    body.dark-mode .leaf-btn {
      color: #127cff !important;
      background: transparent !important;
      border: 2px solid #127cff !important;
      box-shadow: none !important;
    }
    body.dark-mode .leaf-btn.active,
    body.dark-mode .leaf-btn:focus {
      background-color: #127cff !important;
      color: #fff !important;
      outline: 2px solid #127cff !important;
      box-shadow: 0 0 12px rgba(18, 124, 255, 0.18) !important;
    }
    body.dark-mode .leaf-btn:hover {
      background-color: #127cff !important;
      color: #fff !important;
    }
    body.dark-mode .nav-btn {
      background-color: #1a73e8 !important;
      color: #fff !important;
    }
    body.dark-mode .nav-btn:hover {
      background-color: #125bbb !important;
    }
    body.dark-mode .footer {
      color: #fff !important;
      border-top: 1px solid #fff !important;
    }
    body.dark-mode h4.title {
      color: #fff !important;
    }
    /* Dark mode adjustments for new spec elements */
    body.dark-mode .spec-label {
        color: #fff !important; /* Putih untuk dark mode */
    }
    body.dark-mode .spec-value {
        color: #80d0ff !important; /* Biru terang untuk dark mode */
    }
    body.dark-mode .nominal-mm2 {
        color: #fff !important; /* Putih untuk dark mode */
    }

    @media (max-width:500px) {
      .leaf-btn, .nav-btn {
        padding: 5px 12px;
        font-size: 0.93rem;
      }
      .form-select.luas-select {
        font-size: 0.93rem;
        padding-left: 8px;
      }
    }
  </style>
</head>
<body>
  <div class="card-box bg-white">
    <h4 class="title">Konduktor Resistansi ICEA</h4>
    <div class="text-center mb-4">
      <button class="leaf-btn me-2 active" id="btnCU">CU</button>
      <button class="leaf-btn me-2" id="btnAL">AL</button>
    </div>
    <div class="mb-3">
      <label class="form-label">Luas Penampang</label>
      <select class="form-select luas-select" id="luas">
<option value="8">8 AWG</option>
<option value="7">7 AWG</option>
<option value="6">6 AWG</option>
<option value="5">5 AWG</option>
<option value="4">4 AWG</option>
<option value="3">3 AWG</option>
<option value="2">2 AWG</option>
<option value="1">1 AWG</option>
<option value="1/0">1/0 AWG</option>
<option value="2/0">2/0 AWG</option>
<option value="3/0">3/0 AWG</option>
<option value="4/0">4/0 AWG</option>
<option value="250">250 KCMIL</option>
<option value="300">300 KCMIL</option>
<option value="350">350 KCMIL</option>
<option value="400">400 KCMIL</option>
<option value="450">450 KCMIL</option>
<option value="500">500 KCMIL</option>
<option value="550">550 KCMIL</option>
<option value="600">600 KCMIL</option>
<option value="650">650 KCMIL</option>
<option value="700">700 KCMIL</option>
<option value="750">750 KCMIL</option>
<option value="800">800 KCMIL</option>
<option value="900">900 KCMIL</option>
<option value="1000">1000 KCMIL</option>
<option value="1100">1100 KCMIL</option>
<option value="1200">1200 KCMIL</option>
<option value="1250">1250 KCMIL</option>
<option value="1300">1300 KCMIL</option>
<option value="1400">1400 KCMIL</option>
<option value="1500">1500 KCMIL</option>
<option value="1600">1600 KCMIL</option>
<option value="1700">1700 KCMIL</option>
<option value="1750">1750 KCMIL</option>
<option value="1800">1800 KCMIL</option>
<option value="1900">1900 KCMIL</option>
<option value="2000">2000 KCMIL</option>
<option value="2500">2500 KCMIL</option>
<option value="3000">3000 KCMIL</option>
      </select>
    </div>
    <div class="mb-3">
      <label class="form-label">Resistansi Maksimal (Ω/km)</label>
      <input
        type="text"
        class="form-control"
        id="resistansi"
        value=""
        readonly
      >
    </div>
    <div class="info-text" id="infoText">
      </div>
<div class="text-center mt-4">
  <a href="sk_index.html" class="nav-btn">Kembali</a>
  <a href="..//index.html" class="nav-btn">Halaman Utama</a>
  <button class="nav-btn" id="toggleDark">Dark</button>
</div>
    <div class="footer mt-4">
      Made by Williyanto Adi 2025
    </div>
  </div>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <script>
    // Data resistansi CU
    const resistansiTable = {
      CU: {
  "8": "0,66504",
  "7": "0,52938",
  "6": "0,41922",
  "5": "0,33150",
  "4": "0,26316",
  "3": "0,20910",
  "2": "0,16524",
  "1": "0,13158",
  "1/0": "0,10404",
  "2/0": "0,08262",
  "3/0": "0,06548",
  "4/0": "0,05202",
  "250": "0,04396",
  "300": "0,03672",
  "350": "0,03142",
  "400": "0,02744",
  "450": "0,02448",
  "500": "0,02203",
  "550": "0,01999",
  "600": "0,01836",
  "650": "0,01693",
  "700": "0,01571",
  "750": "0,01469",
  "800": "0,01377",
  "900": "0,01224",
  "1000": "0,01102",
  "1100": "0,01001",
  "1200": "0,00917",
  "1250": "0,00880",
  "1300": "0,00847",
  "1400": "0,00786",
  "1500": "0,00733",
  "1600": "0,00687",
  "1700": "0,00647",
  "1750": "0,00628",
  "1800": "0,00611",
  "1900": "0,00579",
  "2000": "0,00550",
  "2500": "0,00445",
  "3000": "0,00370"
      },
      // Data resistansi AL
      AL: {
  "8": "1,09140",
  "7": "0,86802",
  "6": "0,68850",
  "5": "0,54468",
  "4": "0,43248",
  "3": "0,34272",
  "2": "0,27132",
  "1": "0,21522",
  "1/0": "0,17136",
  "2/0": "0,13566",
  "3/0": "0,10710",
  "4/0": "0,08527",
  "250": "0,07211",
  "300": "0,06018",
  "350": "0,05151",
  "400": "0,04508",
  "450": "0,04009",
  "500": "0,03611",
  "550": "0,03274",
  "600": "0,03009",
  "650": "0,02774",
  "700": "0,02581",
  "750": "0,02407",
  "800": "0,02254",
  "900": "0,01999",
  "1000": "0,01805",
  "1100": "0,01642",
  "1200": "0,01499",
  "1250": "0,01438",
  "1300": "0,01387",
  "1400": "0,01285",
  "1500": "0,01204",
  "1600": "0,01132",
  "1700": "0,01061",
  "1750": "0,01030",
  "1800": "0,01002",
  "1900": "0,00950",
  "2000": "0,00903",
  "2500": "0,00729",
  "3000": "0,00608"
      }
    };

    // Data spesifikasi sesuai tabel
    const specTable = {
      CU: {
   "8": "0,652",
  "7": "0,519",
  "6": "0,411",
  "5": "0,325",
  "4": "0,258",
  "3": "0,205",
  "2": "0,162",
  "1": "0,129",
  "1/0": "0,102",
  "2/0": "0,0810",
  "3/0": "0,0642",
  "4/0": "0,0510",
  "250": "0,0431",
  "300": "0,0360",
  "350": "0,0308",
  "400": "0,0269",
  "450": "0,0240",
  "500": "0,0216",
  "550": "0,0196",
  "600": "0,0180",
  "650": "0,0166",
  "700": "0,0154",
  "750": "0,0144",
  "800": "0,0135",
  "900": "0,0120",
  "1000": "0,0108",
  "1100": "0,00981",
  "1200": "0,00899",
  "1250": "0,00863",
  "1300": "0,00830",
  "1400": "0,00771",
  "1500": "0,00719",
  "1600": "0,00674",
  "1700": "0,00634",
  "1750": "0,00616",
  "1800": "0,00599",
  "1900": "0,00568",
  "2000": "0,00539",
  "2500": "0,00436",
  "3000": "0,00363"
      },
      AL: {
  "8": "1,07",
  "7": "0,851",
  "6": "0,675",
  "5": "0,534",
  "4": "0,424",
  "3": "0,336",
  "2": "0,266",
  "1": "0,211",
  "1/0": "0,168",
  "2/0": "0,133",
  "3/0": "0,105",
  "4/0": "0,0836",
  "250": "0,0707",
  "300": "0,0590",
  "350": "0,0505",
  "400": "0,0442",
  "450": "0,0393",
  "500": "0,0354",
  "550": "0,0321",
  "600": "0,0295",
  "650": "0,0272",
  "700": "0,0253",
  "750": "0,0236",
  "800": "0,0221",
  "900": "0,0196",
  "1000": "0,0177",
  "1100": "0,0161",
  "1200": "0,0147",
  "1250": "0,0141",
  "1300": "0,0136",
  "1400": "0,0126",
  "1500": "0,0118",
  "1600": "0,0111",
  "1700": "0,0104",
  "1750": "0,0101",
  "1800": "0,00982",
  "1900": "0,00931",
  "2000": "0,00885",
  "2500": "0,00715",
  "3000": "0,00596"
      }
    };

    // Data nominal mm²
    const nominalMm2Table = {
  "8": "8,37",
  "7": "10,6",
  "6": "13,3",
  "5": "16,8",
  "4": "21,1",
  "3": "26,7",
  "2": "33,6",
  "1": "42,4",
  "1/0": "53,5",
  "2/0": "67,4",
  "3/0": "85,0",
  "4/0": "107",
  "250": "127",
  "300": "152",
  "350": "177",
  "400": "203",
  "450": "228",
  "500": "253",
  "550": "279",
  "600": "304",
  "650": "329",
  "700": "355",
  "750": "380",
  "800": "405",
  "900": "456",
  "1000": "507",
  "1100": "557",
  "1200": "608",
  "1250": "633",
  "1300": "659",
  "1400": "709",
  "1500": "760",
  "1600": "811",
  "1700": "861",
  "1750": "887",
  "1800": "912",
  "1900": "963",
  "2000": "1013",
  "2500": "1266",
  "3000": "1520"
    };

    // Label material untuk infoText
    const labelMaterial = {
      CU: "Cooper (Tembaga)",
      AL: "Aluminium",
    };
    let selectedMaterial = 'CU';
    const buttons = document.querySelectorAll('.leaf-btn');
    const resistansiInput = document.getElementById('resistansi');
    const infoText = document.getElementById('infoText');
    const luasSelect = document.getElementById('luas');
    // Enhanced Fade & Slide helper
    function animUpdate(el, updateFn) {
      el.classList.add('anim-change');
      setTimeout(() => {
        updateFn();
        el.classList.remove('anim-change');
      }, 200); // fade out quickly, then update and fade in
    }
    function setResistansiAndInfo() {
      const luas = luasSelect.value;
      const luasText = luasSelect.options[luasSelect.selectedIndex].text;
      const resistansiValue = resistansiTable[selectedMaterial][luas] || "-";
      const specValue = specTable[selectedMaterial][luas] || "-";
      const nominalMm2Value = nominalMm2Table[luas] || "-";

      // Enhanced fade+slide for resistansi input value
      animUpdate(resistansiInput, () => {
        resistansiInput.value = resistansiValue;
      });
      // Pisahkan angka dan satuan
      let nilai = resistansiValue;
      let satuan = "Ω/km";
      if (nilai === "-") satuan = "";
      // Enhanced fade+slide for info text
      animUpdate(infoText, () => {
        infoText.innerHTML =
          `Spesifikasi ICEA ${labelMaterial[selectedMaterial]} <span class="info-detail">${luasText}</span><br>` +
          `adalah: <span class="info-detail">${nilai}</span> <span class="satuan-ohm">${satuan}</span> ` +
          `<span class="spec-label">Spek sesuai tabel</span> <span class="spec-value">${specValue}</span><br>` +
          `${luasText} sama dengan Nominal: <span class="nominal-mm2">${nominalMm2Value}</span> mm²`;
      });
    }
    buttons.forEach(btn => {
      btn.addEventListener('click', function () {
        buttons.forEach(b => b.classList.remove('active'));
        this.classList.add('active');
        selectedMaterial = this.id.replace('btn', '');
        setResistansiAndInfo();
      });
    });
    luasSelect.addEventListener('change', function () {
      setResistansiAndInfo();
    });
    // inisialisasi tampilan awal sesuai default
    setResistansiAndInfo();
    // Dark Mode
    const toggleDark = document.getElementById("toggleDark");
    let darkMode = false;
    function setDarkMode(on) {
      if(on) {
        document.body.classList.add('dark-mode');
        toggleDark.textContent = "🌞";
        darkMode = true;
      } else {
        document.body.classList.remove('dark-mode');
        toggleDark.textContent = "🌙";
        darkMode = false;
      }
      // Simpan preferensi ke localStorage
      localStorage.setItem('darkMode', darkMode ? "1" : "0");
    }
    toggleDark.addEventListener('click', function() {
      setDarkMode(!darkMode);
    });
    // Load preferensi dark mode (jika ada)
    if(localStorage.getItem('darkMode') === "1") {
      setDarkMode(true);
    }
  </script>
</body>
</html>