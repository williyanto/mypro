<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Kalkulator Radius Tekukan</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    .result-value {
      color: green;
      font-weight: bold;
    }
    .formula-text {
      font-style: italic;
      margin-top: 10px;
    }
    .formula-text span {
      color: green;
      font-weight: bold;
    }
    .content-border {
      border: 2px solid #dee2e6;
      border-radius: 10px;
      padding: 2rem;
      margin: 1rem;
      background-color: #f8f9fa;
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    }
    .header-line {
      border-bottom: 2px solid #dee2e6;
      padding-bottom: 1rem;
      margin-bottom: 2rem;
    }
    .footer-line {
      border-top: 2px solid #dee2e6;
      padding-top: 1rem;
      margin-top: 2rem;
    }
    .btn-custom {
      margin: 0 10px;
      min-width: 120px;
    }
  </style>
</head>
<body>
  <div class="container mt-5 mb-5">
    <div class="content-border">
      <div class="header-line">
        <h2 class="text-center mb-0">Kalkulator Radius Tekukan</h2>
      </div>
      
      <div class="row g-3">
      <div class="col-md-6">
        <label for="tipeKabel" class="form-label">Tipe Kabel</label>
        <select id="tipeKabel" class="form-select">
          <option value="lead">Dengan Lead Sheath/Lapisan Logam</option>
          <option value="lain">Kabel Lain</option>
        </select>
      </div>

      <div class="col-md-6">
        <label for="jumlahInti" class="form-label">Jumlah Inti</label>
        <select id="jumlahInti" class="form-select">
          <option value="tunggal">Inti Tunggal</option>
          <option value="tiga">Tiga Inti</option>
        </select>
      </div>

      <div class="col-md-6">
        <label for="diameterKonduktor" class="form-label">Diameter Konduktor (mm)</label>
        <input type="number" class="form-control" id="diameterKonduktor" />
      </div>

      <div class="col-md-6">
        <label for="diameterKabel" class="form-label">Diameter Kabel (mm)</label>
        <input type="number" class="form-control" id="diameterKabel" />
      </div>

      <div class="col-4">
        <label class="form-label">Min. Radius Tekukan (mm)</label>
        <input type="text" class="form-control result-value" id="minRadius" readonly />
      </div>

      <div class="col-4">
        <label class="form-label">Nom. Radius Tekukan (mm)</label>
        <input type="text" class="form-control result-value" id="nomRadius" readonly />
      </div>

      <div class="col-4">
        <label class="form-label">Max. Radius Tekukan (mm)</label>
        <input type="text" class="form-control result-value" id="maxRadius" readonly />
      </div>

      <div class="col-md-12">
        <p class="formula-text"><strong>Formula:</strong> <span id="formulaText"></span></p>
      </div>

      <div class="col-12 text-center mt-4 mb-3">
        <button type="button" class="btn btn-secondary btn-custom" onclick="goBack()">Kembali</button>
        <button type="button" class="btn btn-primary btn-custom" onclick="goHome()">Beranda</button>
      </div>

      <div class="col-12">
        <div class="footer-line">
          <footer class="text-center text-muted">
            Williyanto Adi 2025
          </footer>
        </div>
      </div>
    </div>
  </div>

  <script>
    const tipeKabel = document.getElementById("tipeKabel");
    const jumlahInti = document.getElementById("jumlahInti");
    const diameterKonduktor = document.getElementById("diameterKonduktor");
    const diameterKabel = document.getElementById("diameterKabel");
    const minRadius = document.getElementById("minRadius");
    const maxRadius = document.getElementById("maxRadius");
    const nomRadius = document.getElementById("nomRadius");
    const formulaText = document.getElementById("formulaText");

    function hitungRadius() {
      const d = parseFloat(diameterKonduktor.value) || 0;
      const D = parseFloat(diameterKabel.value) || 0;
      const tipe = tipeKabel.value;
      const inti = jumlahInti.value;

      let faktor = 0;
      let min = 0;
      let max = 0;
      let formula = "";

      if (tipe === "lead" && inti === "tunggal") {
        faktor = 25;
        min = (d + D - 0.05 * (d + D)) * faktor;
        max = (d + D + 0.05 * (d + D)) * faktor;
        formula = "25 (d + D) ± 5%";
      } else if (tipe === "lead" && inti === "tiga") {
        faktor = 20;
        min = (d + D - 0.05 * (d + D)) * faktor;
        max = (d + D + 0.05 * (d + D)) * faktor;
        formula = "20 (d + D) ± 5%";
      } else if (tipe === "lain" && inti === "tunggal") {
        faktor = 20;
        min = (d + D - 0.05 * (d + D)) * faktor;
        max = (d + D + 0.05 * (d + D)) * faktor;
        formula = "20 (d + D ) ± 5%";
      } else if (tipe === "lain" && inti === "tiga") {
        faktor = 15;
        min = (d + D - 0.05 * (d + D)) * faktor;
        max = (d + D + 0.05 * (d + D)) * faktor;
        formula = "15 (d + D) ± 5%";
      }

      const nom = (min + max) / 2;

      minRadius.value = min ? min.toFixed(0) : "";
      maxRadius.value = max ? max.toFixed(0) : "";
      nomRadius.value = nom ? nom.toFixed(0) : "";

      formulaText.innerHTML = formula ? `<span>${formula}</span>` : "";
    }

    tipeKabel.addEventListener("change", hitungRadius);
    jumlahInti.addEventListener("change", hitungRadius);
    diameterKonduktor.addEventListener("input", hitungRadius);
    diameterKabel.addEventListener("input", hitungRadius);

    // Fungsi untuk tombol navigasi
    function goBack() {
      if (window.history.length > 1) {
        window.history.back();
      } else {
        // Jika tidak ada history, redirect ke halaman utama atau tampilkan pesan
        alert("Tidak ada halaman sebelumnya untuk dikunjungi");
      }
    }

    function goHome() {
      // Ganti URL ini sesuai dengan halaman beranda Anda
      window.location.href = "/";
    }
  </script>
</body>
</html>